/* --- 
  ProjectPage.css
  (Re-skinned to our Style Guide)
--- */

/* --- Layout Containers --- */
.project-container {
  max-width: 1400px;
  margin-inline: auto;
  padding-inline: var(--space-4);
}

.project-container-narrow {
  max-width: 1600px;
  margin-inline: auto;
  padding-inline: var(--space-4);
}

.project-not-found {
  min-height: 80vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: var(--space-6);
}

.project-showcase {
  padding-block: var(--space-9);
  background-color: hsl(190 95% 55% / 0.03);
}

.showcase-intro {
  text-align: center;
  max-width: 800px;
  margin-inline: auto;
  margin-bottom: var(--space-7);
}

.showcase-intro h2 {
  font-family: var(--font-display);
  font-size: var(--font-size-h2);
  font-weight: 700;
  margin-bottom: var(--space-3);
}

.showcase-intro p {
  font-size: var(--font-size-body);
  color: var(--muted-foreground);
  line-height: 1.6;
}

.project-links {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-4);
  margin-bottom: var(--space-7);
}

.project-links.centered {
  justify-content: center;
}

/* --- Confidential Banner --- */
.confidential-banner {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  background-color: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.2);
  color: #fca5a5;
  padding: 0.75rem 1.25rem;
  border-radius: 0.75rem;
  margin-bottom: 2rem;
  font-size: 0.9rem;
  line-height: 1.5;
  max-width: fit-content;
}

.confidential-banner a {
  color: #fff;
  text-decoration: underline;
  text-underline-offset: 2px;
  font-weight: 500;
  transition: opacity 0.2s;
}

.confidential-banner a:hover {
  opacity: 0.8;
}

/* --- Hero Section --- */
.project-hero {
  padding-top: var(--space-9);
  padding-bottom: var(--space-7);
}

.button-primary svg,
.button-secondary svg {
  margin-right: var(--space-2);
}

.project-full-image {
  width: 100%;
  height: auto;
  display: block;
  border-radius: var(--radius);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-card);
}

.project-hero .glass-badge {
  display: block;
  width: fit-content;
  margin-top: var(--space-6);
  margin-bottom: var(--space-4);
}

.project-title {
  font-family: var(--font-display);
  font-size: var(--font-size-h1);
  font-weight: 700;
  margin-top: 0;
  margin-bottom: var(--space-6);
}

/* FIX: Added the dot here */
.hero-image-wrapper {
  width: 100%;
  height: 400px;
  border-radius: var(--radius);
  overflow: hidden;
  /* Crucial for the scrolling effect */
  margin-top: var(--space-6);
}

/* Target the image inside to ensure it has room to move */
.hero-image-wrapper .project-hero-image {
  height: 120%;
  /* Taller than container so it can scroll */
  width: 100%;
  object-fit: cover;
  margin-top: -10%;
  /* Center it initially */
}

/* --- Executive Summary --- */
.project-summary {
  padding-block: var(--space-8);
  background-color: hsl(190 95% 55% / 0.05);
}

.project-summary-card {
  background-color: var(--background);
  border-radius: var(--radius);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-card);
  padding: var(--space-7);
}

.project-summary-card>h2 {
  font-family: var(--font-display);
  font-size: var(--font-size-h2);
  font-weight: 700;
  margin-bottom: var(--space-6);
}

.summary-item {
  margin-bottom: var(--space-6);
}

.summary-item>h3 {
  font-size: var(--font-size-small);
  font-weight: 500;
  color: var(--muted-foreground);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin-bottom: var(--space-2);
}

.summary-item>p {
  font-size: var(--font-size-body-desktop);
  line-height: 1.6;
}

.summary-item.outcome {
  padding-top: var(--space-5);
  border-top: 1px solid var(--border);
}

.summary-item.outcome p {
  font-size: var(--font-size-h3);
  font-weight: 700;
}

.skills-list {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-2);
}

.skill-badge {
  display: inline-block;
  background-color: var(--secondary);
  color: var(--secondary-foreground);
  font-size: var(--font-size-small);
  padding: var(--space-1) var(--space-3);
  border-radius: var(--radius);
}

/* --- Main Narrative --- */
.project-narrative {
  padding-block: var(--space-9);
}

.narrative-section {
  margin-bottom: var(--space-9);
}

.narrative-title {
  font-family: var(--font-display);
  font-size: var(--font-size-h2);
  font-weight: 700;
  margin-bottom: var(--space-6);
}

.narrative-body {
  font-size: var(--font-size-body-desktop);
  color: var(--muted-foreground);
  line-height: 1.7;
}

.narrative-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-3);
  margin-top: var(--space-5);
}

.narrative-list li {
  display: flex;
  align-items: flex-start;
  gap: var(--space-3);
  color: var(--muted-foreground);
  line-height: 1.6;
}

.narrative-list li span {
  color: var(--primary);
  margin-top: 4px;
}

/* Process Steps */
.process-steps {
  display: flex;
  flex-direction: column;
  gap: var(--space-7);
}

.process-step {
  border-left: 2px solid var(--primary);
  padding-left: var(--space-5);
}

.process-step>h3 {
  font-size: var(--font-size-h3);
  font-weight: 700;
  margin-bottom: var(--space-3);
}

/* [NEW] Process Step Image */
.process-step-image-wrapper {
  margin-block: var(--space-5);
  border-radius: var(--radius);
  overflow: hidden;
  border: 1px solid var(--border);
  position: relative;
}

/* [NEW] Grid for Multiple Images */
.process-step-images-grid {
  display: grid;
  grid-template-columns: 1fr;
  /* Stack images to full width */
  gap: var(--space-4);
  margin-block: var(--space-5);
}

.process-step-single-image-container {
  border-radius: var(--radius);
  overflow: hidden;
  border: 1px solid var(--border);
  position: relative;
  background-color: var(--card);
  /* Match card bg */
}

.process-step-image {
  width: 100%;
  height: auto;
  display: block;
  /* Ensure images inside containers fill them */
}

.zoom-hint {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: var(--space-2);
  padding: var(--space-2);
  background-color: var(--card);
  /* Or a light background */
  color: var(--muted-foreground);
  font-size: var(--font-size-small);
  border-top: 1px solid var(--border);
}

.image-caption {
  text-align: center;
  font-style: italic;
  font-size: var(--font-size-small);
  color: var(--muted-foreground);
  padding: var(--space-3);
  background-color: var(--background);
  border-top: 1px solid var(--border);
  margin: 0;
}

.insight-box {
  background-color: hsl(190 95% 55% / 0.05);
  border-left: 4px solid var(--primary);
  padding: var(--space-4);
  border-radius: var(--radius);
  margin-block: var(--space-4);
}

.insight-box p:first-child {
  font-weight: 700;
}

.insight-box p:last-child {
  color: var(--muted-foreground);
}

/* Solution */
.features-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-5);
  margin-block: var(--space-6);
}

.feature-card {
  background-color: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: var(--space-5);
}

.feature-card h3 {
  font-size: var(--font-size-body-desktop);
  font-weight: 700;
  margin-bottom: var(--space-2);
}

.feature-card p {
  color: var(--muted-foreground);
}

.image-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-5);
  margin-top: var(--space-6);
}

.solution-image {
  width: 100%;
  height: 300px;
  object-fit: cover;
  border-radius: var(--radius);
}

/* Outcome */
.metrics-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-5);
  margin-bottom: var(--space-7);
}

.metric-card {
  background-color: hsl(190 95% 55% / 0.05);
  border-radius: var(--radius);
  padding: var(--space-5);
  text-align: center;
}

.metric-value {
  font-size: var(--font-size-h2);
  font-weight: 700;
  color: var(--primary);
  margin-bottom: var(--space-2);
}

.metric-label {
  font-weight: 700;
  margin-bottom: var(--space-1);
}

.metric-desc {
  font-size: var(--font-size-small);
  color: var(--muted-foreground);
}

.lessons-box {
  background-color: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: var(--space-7);
}

.lessons-box>h3 {
  font-size: var(--font-size-h3);
  font-weight: 700;
  margin-bottom: var(--space-6);
}

.lessons-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-5);
}

.lesson-item h4 {
  font-weight: 700;
  margin-bottom: var(--space-2);
}

.lesson-item p {
  color: var(--muted-foreground);
}

/* 2. Next Project Section */
.next-project-area {
  margin-top: var(--space-10);
  padding-block: var(--space-10);
  border-top: 1px solid var(--border);
  background: linear-gradient(to bottom, var(--background), var(--card));
}

.next-project-header {
  display: flex;
  align-items: center;
  gap: var(--space-4);
  margin-bottom: var(--space-7);
  opacity: 0.6;
}

.next-project-header h3 {
  font-family: var(--font-display);
  font-size: var(--font-size-h3);
  white-space: nowrap;
  margin: 0;
}

.divider-line {
  height: 1px;
  width: 100%;
  background: var(--border);
}

.next-project-card-wrapper {
  max-width: 900px;
  margin-inline: auto;
  /* Ensure the desktop grid layout (triggered at 992px viewport) fits. 
     If viewport is <992px, card is stacked anyway. 
     If viewport >992px, 900px width might be slightly narrow for the specific grid cols?
     Wait, media query is on viewport. If container is 900px, card is 900px.
     Grid 1.1fr 1fr is fine at 900px.
  */
}

/* --- Desktop Layout --- */
@media (min-width: 768px) {
  .project-title {
    font-size: var(--font-size-h2-desktop);
  }

  .summary-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--space-6);
  }

  .features-grid {
    grid-template-columns: 1fr 1fr;
  }

  .image-grid {
    grid-template-columns: 1fr 1fr;
  }

  .metrics-grid {
    grid-template-columns: repeat(4, 1fr);
  }

  .hero-image-wrapper {
    height: 600px;
  }
}